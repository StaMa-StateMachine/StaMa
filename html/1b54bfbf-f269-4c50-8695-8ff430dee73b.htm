<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Create a Plain Transition and Control Its Generated Code Using StaMa Visio Shapes</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="1b54bfbf-f269-4c50-8695-8ff430dee73b" /><meta name="Description" content="Explains how to create a simple transition between two states in a StaMa Visio Shapes state diagram and control the code generated for the transition." /><meta name="Microsoft.Help.ContentType" content="How To" /><meta name="BrandingAware" content="true" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">StaMa - State Machine Controller Library 2.3.0.3 - Developers Guide and Reference<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="d3287120-e3fa-45ed-8986-ba6d78244c1c.htm" title="StaMa - State Machine Controller Library 2.3.0.3 - Developers Guide and Reference" tocid="roottoc">StaMa - State Machine Controller Library 2.3.0.3 - Developers Guide and Reference</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="d3287120-e3fa-45ed-8986-ba6d78244c1c.htm" title="Developer's Guide" tocid="7953145f-79aa-45fb-af3b-94cc26ebf94e">Developer's Guide</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="ca217c97-dd3c-4c6c-a0e7-5893315663aa.htm" title="Using Visio Shapes" tocid="ca217c97-dd3c-4c6c-a0e7-5893315663aa">Using Visio Shapes</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="d84688d1-ab43-4437-b9fe-aeecc03b5d0e.htm" title="Step by Step Descriptions for Tasks" tocid="d84688d1-ab43-4437-b9fe-aeecc03b5d0e">Step by Step Descriptions for Tasks</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="b118384c-7479-4dd8-82e8-18e9a13b35f6.htm" title="Create a Basic State Diagram and Generate Code from It" tocid="b118384c-7479-4dd8-82e8-18e9a13b35f6">Create a Basic State Diagram and Generate Code from It</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="c9b743d2-ae47-40d8-ad45-639e473271c1.htm" title="Add a State to a State Diagram and Control Its Generated Code" tocid="c9b743d2-ae47-40d8-ad45-639e473271c1">Add a State to a State Diagram and Control Its Generated Code</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="1b54bfbf-f269-4c50-8695-8ff430dee73b.htm" title="Create a Plain Transition and Control Its Generated Code " tocid="1b54bfbf-f269-4c50-8695-8ff430dee73b">Create a Plain Transition and Control Its Generated Code </a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="2879867d-8e74-4dbd-861a-292bc54d505b.htm" title="Generate Code for Enumerations of States, Signal Events and Actions" tocid="2879867d-8e74-4dbd-861a-292bc54d505b">Generate Code for Enumerations of States, Signal Events and Actions</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="9d4e9992-3c8d-49a8-9818-18f5d488af7e.htm" title="Create a Composite State" tocid="9d4e9992-3c8d-49a8-9818-18f5d488af7e">Create a Composite State</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="9110ef28-d0d9-40ac-a09d-2263809f5f45.htm" title="Add a Second, Orthogonal Region to a Composite State" tocid="9110ef28-d0d9-40ac-a09d-2263809f5f45">Add a Second, Orthogonal Region to a Composite State</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="6ac8c54b-c9fa-4085-80f9-b816430ae62d.htm" title="Create a Fork Transition" tocid="6ac8c54b-c9fa-4085-80f9-b816430ae62d">Create a Fork Transition</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="5a2e1160-ce69-4b22-97fe-bf986343fd1e.htm" title="Create a Join Transition" tocid="5a2e1160-ce69-4b22-97fe-bf986343fd1e">Create a Join Transition</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="f3839c42-ee1f-4437-b495-b9522ba6d024.htm" title="Revert a Composite State Back to a Basic State" tocid="f3839c42-ee1f-4437-b495-b9522ba6d024">Revert a Composite State Back to a Basic State</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img alt="StaMa" src="../icons/StaMa32x32.png" /></td><td class="titleColumn">Create a Plain Transition and Control Its Generated Code Using StaMa Visio Shapes</td></tr></table><span class="introStyle"></span><div class="summary"><p>
        Explains how to create a simple transition between two states in a <a href="ca217c97-dd3c-4c6c-a0e7-5893315663aa.htm">StaMa Visio Shapes</a> state diagram and control the code generated for the transition.
      </p></div><div class="introduction"><p>
        Common two ended transitions are composed of two shapes in in <a href="ca217c97-dd3c-4c6c-a0e7-5893315663aa.htm">StaMa Visio Shapes</a>:
      </p><ul><li><p>
            The transition knot shape that carries the transition event signal, the guard and the transition action.
            This shape is connected to the source state.
          </p></li><li><p>
            A transition segment that is connected to the target state and to the transition knot.
          </p></li></ul><p>
        The transition parts can be bent after being placed in order to achieve a convenient diagram layout.
        The shapes can be added by drag and drop from the <a href="a4db1100-01f4-4594-b23c-948cbd01b5e7.htm">Document Stencil</a> to the diagram by drag and drop and can be connected later.
      </p></div><h3 class="procedureSubHeading">Adding the transition</h3><div class="subSection"><ol><li><p>
              In the <a href="a4db1100-01f4-4594-b23c-948cbd01b5e7.htm">Document Stencil</a> locate the <span class="ui">Transition Knot</span> shape and drag it over the border of the intended source state in the state diagram.
            </p><div class="mediaCenter"><img alt="Drop Transition Knot" src="../media/DropTransitionKnot.png" /><div class="caption"><span class="captionLead">Figure 1:
						</span>Drag transition knot over the source state border</div></div><p>
              Drag the line end of the transition knot over the source state border until a small red rectangle appears on the source state.
              Drop the transition knot shape.
            </p></li><li><p>
              In the <a href="a4db1100-01f4-4594-b23c-948cbd01b5e7.htm">Document Stencil</a> locate the <span class="ui">Transition Segment</span> shape and drag it over the border of the intended target state in the state diagram.
            </p><div class="mediaCenter"><img alt="Drop Transition Segment" src="../media/DropTransitionSegment.png" /><div class="caption"><span class="captionLead">Figure 2:
						</span>Drag transition segment over the target state border</div></div><p>
              Drag the line end of the transition segment with the arrow over the target state border until a small red rectangle appears on the source state.
              Drop the transition segment shape.
            </p></li><li><p>
              When the transition segment is selected, it has a small yellow diamond at its dangling end.
              Drag the small yellow diamond over the center of the transition knot box until a small red rectangle appears.
            </p><div class="mediaCenter"><img alt="Connect Transition Segment To Transition Knot" src="../media/ConnectTransitionSegmentToTransitionKnot.png" /><div class="caption"><span class="captionLead">Figure 3:
						</span>Drag dangling transition segment end over transition knot box</div></div><p>
              Drop (release the mouse button) to connect the dangling line end with the transition knot.
            </p></li><li><p>
              When the transition segment or the transition knot are selected, they have a second small yellow diamond which is usually not placed on the graphics of the shape.
              This yellow diamond defines the curvature of the shape.
              Drag it to modify the curvature and to achieve a convenient transition layout.
            </p></li><li><p>
              Depending on the order of adding the transition knot and the transition segment they now have an unwanted graphical z-order which causes the
              transition segment to cross the transition knot box.
              By lifting the transition knot to the topmost graphical z-order, the transition knot box will cover the transition segment which looks much better.
            </p><p>
              Open the context menu of the transition knot by right-clicking with the mouse on its line, not on the box.
              The context menu appears (and the two yellow diamonds).
            </p><p>
              In the context menu select <span class="ui">Bring to front</span>. The part of the transition segment line that crosses the transition knot box disappears.
            </p></li><li><p>
              Generate the code into the <span class="placeholder">target file</span> e.g. by pressing <span class="ui">Ctrl+G</span>.
              Check that the new Transition is properly generated in the <span class="placeholder">target file</span>.
            </p></li></ol><p>
            The transition is now properly connected.
            In order to further arrange the state diagram, the source or target state or the yellow diamond in the center of the transition knot box can be dragged and will not disconnect the transition.
          </p><p>
            16 connection points are distributed along the state border, 3 at each side and 1 at each rounded corner of the state. Multiple transitions may start or end at a connection point.
          </p></div><h3 class="procedureSubHeading">Setting the Transition Signal Event, Guard Condition and Transition Action</h3><div class="subSection"><ol><li><p>
              Locate the transition knot box in the diagram and double click in this area. The <span class="ui">Shape data</span> properties dialog of the transition knot appears.
            </p><div class="mediaCenter"><img alt="Transition Properties" src="../media/TransitionKnotShapeProperties.png" /><div class="caption"><span class="captionLead">Figure 4:
						</span>Transition properties</div></div></li><li><p>
              Change the <span class="ui">Event Signal</span>, <span class="ui">Guard</span> or <span class="ui">Action</span> field and press <span class="ui">OK</span>.
              Press <span class="ui">OK</span> to close the dialog.
              The content in the transition knot box changes and shows the transition information and the size of the transition knot box is adapted.
            </p></li><li><p>
              Generate the code into the <span class="placeholder">target file</span> e.g. by pressing <span class="ui">Ctrl+G</span>.
              Check that the modified transition properties have properly been updated in the <span class="placeholder">target file</span>.
            </p></li></ol></div><h3 class="procedureSubHeading">Setting the Transition Priority to Define the Precedence of Conflicting Transitions</h3><div class="subSection"><ol><li><p>
              Transitions appearing earlier in the generated code take precedence over others in case of conflicting transitions.
              The <span class="ui">Priority</span> field of the <span class="ui">Shape data</span> properties dialog of the transition allows to control the order how transitions are generated in the code.
              The code generator creates outgoing transitions from the same state ordered alphabetically according to the values in the <span class="ui">Priority</span> field.
            </p></li><li><p>
              Locate the transition knot box in the diagram and double click into the box.
              The <span class="ui">Shape data</span> properties dialog of the transition knot appears (same dialog as used for setting the signal event).
            </p></li><li><p>
              The code generator creates the transitions ordered alphabetically according to the values in the <span class="ui">Priority</span> field.
              Considering the <span class="ui">Priority</span> field values of the other transitions outgoing from the same state, choose a reasonable value for this transition and enter it into the <span class="ui">Priority</span> field of the dialog.
              Press <span class="ui">OK</span> to close the dialog.
            </p></li><li><p>
              Generate the code into the <span class="placeholder">target file</span> e.g. by pressing <span class="ui">Ctrl+G</span>.
              Check that the location of the transition has properly been updated in the <span class="placeholder">target file</span>.
            </p></li></ol></div><h3 class="procedureSubHeading">Setting a Human Readable Identifier for the Transition to Identify it during Tracing and Debugging</h3><div class="subSection"><ol><li><p>
              Locate the transition knot box in the diagram and double click into the box.
              The <span class="ui">Shape data</span> properties dialog of the transition knot appears (same dialog as used for setting the signal event).
            </p></li><li><p>
              The <span class="ui">Identification</span> field contains an automatically generated identifier for the transition that might not be speaking when it comes to tracing or debugging.
              Enter a meaningful name for the transition into the <span class="ui">Identification</span> field and press <span class="ui">OK</span> to close the dialog.
            </p></li><li><p>
              Generate the code into the <span class="placeholder">target file</span> e.g. by pressing <span class="ui">Ctrl+G</span>.
              Check that the transition has properly been updated in the <span class="placeholder">target file</span>.
            </p></li></ol></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID0RBSection" class="collapsibleSection"><h4 class="subHeading">Other Resources</h4><div class="seeAlsoStyle"><a href="298801d3-40ad-4fae-816e-5a7e1afb0ff0.htm">Programming State Machines</a></div></div></div></div><div id="pageFooter" class="pageFooter">Documentation generated on 22-Apr-2016  <p><a href="https://github.com/StaMa-StateMachine/StaMa/issues" target="_blank">Report issues at https://github.com/StaMa-StateMachine/StaMa/</a></p></div></body></html>